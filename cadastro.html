<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="cadastro-style.css">
    <link rel="script" href="login-cadastro.js">
    
<title>Gpet - Login</title>
</head>
<body>
    <header>
        <header class="header">
           <a href="index.html"><img src="imgs/Logo .png" alt="Logo"></a>
            
            <div class="search-box">
                <form>
                    <input type="text" placeholder="O que você procura ? ">
                </form>  
            </div>
            
            <div class="icons">
                <img src="imgs/perfil.png" alt="Usuário">
                <a href="index.html"></a><img src="imgs/carrinho.png" alt="carrinho">
                <img src="imgs/favorito.png" alt="Favoritos">
                <img src="imgs/contato.png" alt="Contato">
            </div>
        </header>
    </header>



    <div class="background-stripes">
        <div class="outer-box">
            <div class="login-box">
                <img src="imgs/Logo .png" alt="Logo">
                <input type="text" id="nome" placeholder="Nome Completo">
                <input type="email" id="email" placeholder="E-mail">
                <input type="password" id="senha" placeholder="Senha">
                <button onclick="cadastrar()">CADASTRAR</button>
            </div>
        </div>
    </div>


    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

</script> 

<script>   

const firebaseConfig = {
    apiKey: "AIzaSyDLBaNGN0s7MLAcx2XjHmSc1nCgweSaPkI",
    authDomain: "gpet-cadastros.firebaseapp.com",
    projectId: "gpet-cadastros",
    storageBucket: "gpet-cadastros.firebasestorage.app",
    messagingSenderId: "734450995075",
    appId: "1:734450995075:web:9cd0905266c0f5143bb0b6",
    measurementId: "G-L089HL3TPL"
  };
  
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  async function cadastrar() {
    const nome = document.getElementById('nome').value;
    const email = document.getElementById('email').value;
    const senha = document.getElementById('senha').value; 

    try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, senha);
                await db.collection('usuarios').doc(userCredential.user.uid).set({
                    nome: nome,
                    email: email,
                    dataCadastro: firebase.firestore.FieldValue.serverTimestamp()
                });
      alert('Cadastro Realizado Com Sucesso');
    } catch (error) {
        alert('Erro : '+ error.message);
    } 
  }
  
 </script>


</body>
</html>


